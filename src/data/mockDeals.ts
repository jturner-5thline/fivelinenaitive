import { Deal, Referrer } from '@/types/deal';

// Mock referrers database
export const mockReferrers: Referrer[] = [
  { id: 'r1', name: 'Sarah Mitchell', email: 'sarah.m@vcpartners.com', phone: '(415) 555-0101', company: 'VC Partners' },
  { id: 'r2', name: 'David Chen', email: 'david.chen@capitaladvisors.com', phone: '(212) 555-0202', company: 'Capital Advisors' },
  { id: 'r3', name: 'Emily Rodriguez', email: 'emily.r@fundingnetwork.io', phone: '(617) 555-0303', company: 'Funding Network' },
  { id: 'r4', name: 'Michael Thompson', email: 'mthompson@investco.com', phone: '(312) 555-0404', company: 'InvestCo' },
];

// Helper to generate recent dates for demo purposes
const getRecentDate = (minutesAgo: number) => {
  const date = new Date();
  date.setMinutes(date.getMinutes() - minutesAgo);
  return date.toISOString();
};

export const mockDeals: Deal[] = [
  {
    id: '1',
    name: 'Series B Investment',
    company: 'TechFlow Solutions',
    stage: 'in-due-diligence',
    status: 'on-track',
    engagementType: 'guided',
    manager: 'Paz',
    lender: 'Trinity',
    value: 15000000,
    totalFee: 375000,
    referredBy: mockReferrers[0],
    contact: 'John Smith',
    createdAt: '2024-01-15',
    updatedAt: getRecentDate(15),
    notes: 'Strong revenue growth, expanding to APAC market',
    lenders: [
      { id: 'l1', name: 'Trinity', status: 'in-diligence', stage: 'management-call-completed', trackingStatus: 'active', updatedAt: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000).toISOString() },
      { id: 'l2', name: 'SLR', status: 'terms-issued', stage: 'draft-terms', trackingStatus: 'active', updatedAt: new Date(Date.now() - 18 * 24 * 60 * 60 * 1000).toISOString() },
      { id: 'l3', name: 'Decathlon', status: 'in-review', stage: 'reviewing-drl', trackingStatus: 'on-deck', updatedAt: new Date().toISOString() },
    ],
    milestones: [
      { id: 'm1', title: 'Deal Kick Off', dueDate: '2024-01-15T00:00:00Z', completed: true },
      { id: 'm2', title: 'First Management Call', dueDate: '2024-01-22T00:00:00Z', completed: true },
      { id: 'm3', title: 'Draft Terms', dueDate: '2024-02-05T00:00:00Z', completed: false },
      { id: 'm4', title: 'Qualified Terms', dueDate: '2024-02-15T00:00:00Z', completed: false },
      { id: 'm5', title: 'Terms Signed', dueDate: '2024-02-28T00:00:00Z', completed: false },
    ],
  },
  {
    id: '2',
    name: 'Growth Equity Round',
    company: 'MediCare Plus',
    stage: 'client-strategy-review',
    status: 'at-risk',
    engagementType: 'advisory',
    manager: 'James',
    lender: 'SaaS Capital',
    value: 8500000,
    totalFee: 212500,
    contact: 'Jane Doe',
    createdAt: '2024-01-18',
    updatedAt: getRecentDate(180),
    lenders: [
      { id: 'l1', name: 'SaaS Capital', status: 'in-review', stage: 'management-call-set', trackingStatus: 'active', updatedAt: new Date(Date.now() - 16 * 24 * 60 * 60 * 1000).toISOString() },
      { id: 'l2', name: 'TIMIA', status: 'in-review', stage: 'reviewing-drl', trackingStatus: 'on-hold', updatedAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString() },
    ],
  },
  {
    id: '3',
    name: 'Acquisition Target',
    company: 'FinServ Global',
    stage: 'terms-issued',
    status: 'on-track',
    engagementType: 'managed-process',
    manager: 'Niki',
    lender: 'Eastward',
    value: 45000000,
    totalFee: 650000,
    referredBy: mockReferrers[1],
    contact: 'Robert Johnson',
    createdAt: '2024-01-10',
    updatedAt: getRecentDate(60 * 20),
    notes: 'Final terms under review',
    lenders: [
      { id: 'l1', name: 'Eastward', status: 'terms-issued', stage: 'term-sheets', trackingStatus: 'active', updatedAt: new Date(Date.now() - 8 * 24 * 60 * 60 * 1000).toISOString() },
      { id: 'l2', name: 'Trinity', status: 'terms-issued', stage: 'draft-terms', trackingStatus: 'active', updatedAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString() },
      { id: 'l3', name: 'Matterhorn', status: 'in-diligence', stage: 'management-call-completed', trackingStatus: 'passed', updatedAt: new Date(Date.now() - 20 * 24 * 60 * 60 * 1000).toISOString() },
    ],
  },
  {
    id: '4',
    name: 'Seed Investment',
    company: 'GreenEnergy Co',
    stage: 'final-credit-items',
    status: 'off-track',
    engagementType: 'guided',
    manager: 'Paz',
    lender: 'nFusion',
    value: 2500000,
    totalFee: 75000,
    contact: 'Emily Davis',
    createdAt: '2024-01-20',
    updatedAt: getRecentDate(60 * 24 * 3),
    lenders: [
      { id: 'l1', name: 'nFusion', status: 'in-review', stage: 'reviewing-drl', trackingStatus: 'on-deck' },
    ],
  },
  {
    id: '5',
    name: 'Series A Extension',
    company: 'CloudMatrix',
    stage: 'closed-won',
    status: 'archived',
    engagementType: 'advisory',
    manager: 'James',
    lender: 'Five Crowns',
    value: 12000000,
    totalFee: 300000,
    referredBy: mockReferrers[0],
    contact: 'Chris Wilson',
    createdAt: '2024-01-05',
    updatedAt: getRecentDate(60 * 24 * 14),
    notes: 'Successfully closed Q1 2024',
    lenders: [
      { id: 'l1', name: 'Five Crowns', status: 'closed-funded', stage: 'term-sheets', trackingStatus: 'active' },
      { id: 'l2', name: 'LAGO', status: 'closed-funded', stage: 'term-sheets', trackingStatus: 'passed' },
    ],
  },
  {
    id: '6',
    name: 'Minority Stake',
    company: 'BuildRight Construction',
    stage: 'funded-invoiced',
    status: 'on-hold',
    engagementType: 'managed-process',
    manager: 'Niki',
    lender: 'Republic Business Credit',
    value: 6000000,
    totalFee: 150000,
    contact: 'Amanda Brown',
    createdAt: '2024-01-08',
    updatedAt: getRecentDate(60 * 24 * 45),
    notes: 'Awaiting regulatory approval',
    lenders: [
      { id: 'l1', name: 'Republic Business Credit', status: 'in-diligence', stage: 'management-call-completed', trackingStatus: 'on-hold' },
      { id: 'l2', name: 'Advantage', status: 'terms-issued', stage: 'draft-terms', trackingStatus: 'active' },
    ],
  },
  {
    id: '7',
    name: 'Bridge Financing',
    company: 'RetailNext',
    stage: 'in-due-diligence',
    status: 'on-track',
    engagementType: 'guided',
    manager: 'Paz',
    lender: 'SG',
    value: 4000000,
    totalFee: 100000,
    contact: 'Lisa Wong',
    createdAt: '2024-01-12',
    updatedAt: getRecentDate(60 * 5),
    lenders: [
      { id: 'l1', name: 'SG', status: 'in-diligence', stage: 'management-call-set', trackingStatus: 'active' },
      { id: 'l2', name: 'Decathlon', status: 'in-review', stage: 'reviewing-drl', trackingStatus: 'on-deck' },
    ],
  },
  {
    id: '8',
    name: 'Strategic Partnership',
    company: 'DataDriven Analytics',
    stage: 'client-strategy-review',
    status: 'at-risk',
    engagementType: 'advisory',
    manager: 'James',
    lender: 'LAGO',
    value: 18000000,
    totalFee: 450000,
    referredBy: mockReferrers[2],
    contact: 'James Miller',
    createdAt: '2024-01-19',
    updatedAt: getRecentDate(60 * 24 * 5),
    lenders: [
      { id: 'l1', name: 'LAGO', status: 'in-review', stage: 'management-call-set', trackingStatus: 'active' },
      { id: 'l2', name: 'SLR', status: 'in-review', stage: 'reviewing-drl', trackingStatus: 'on-deck' },
      { id: 'l3', name: 'Eastward', status: 'in-review', stage: 'reviewing-drl', trackingStatus: 'passed' },
    ],
  },
];
